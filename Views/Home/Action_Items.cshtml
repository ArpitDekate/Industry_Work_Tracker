@using LarsenNToubro.Models
<style>

    .table-sticky > thead > tr > th,
    .table-sticky > thead > tr > td {
        background: #009688;
        color: #fff;
        top: 0px;
        position: sticky;
    }

    .table-height {
        height: 250px;
        display: block;
        overflow: scroll;
        width: 100%;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0;
    }
</style>
<head>
    <script>
        $(document).ready(function () {
            $("#mySearch").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#tab tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
                });
            });
        });
    </script>
</head>

<body style=" background-image: url('../../Content/img/back1.png')" ;>
    <input type="text" id="mySearch" class="form-control" style=" min-width: 100%; align-self:center" placeholder="Search" />
    <div class="table-responsive table-height">

        <table class="table table-striped  table-bordered table-sticky" id="tab">
            <thead>
                <tr>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Opportunity Id </th>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Action Type</th>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Action Description</th>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Action Owner</th>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Action Due On</th>
                    <th style="font-family:Verdana;font-size:100%;font:bold">Actions Closed On</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var i in ViewBag.data)
                {
                    var temp = "";
                    var temp1 = "";
                    var temp2 = "";
                    DateTime? t1 = null;
                    DateTime? t2 = null;
                    DateTime? t3 = null;

                    <tr class="Search">
                        <td style="font-family:Verdana; font-size:85%;">@i.Opportunity_ID</td>

                        <!----FOR Sales Type-->
                        @if (i.Sales)
                        {
                            temp = temp + "Sales";
                        }
                        @if (i.Edp)
                        {
                            temp1 = "EDP VDU";
                        }
                        @if (i.Hor)
                        {
                            temp2 = "Horizontals";
                        }
                        <td style="font-family:Verdana; font-size:85%;">    <p> @temp</p>   <p> @temp1</p>   <p> @temp2</p></td>

                        <!----FOR Action Description-->
                        @if (i.Sales)
                        {
                            temp = i.Sales_AD;
                        }
                        @if (i.Edp)
                        {
                            temp1 = i.Edp_AD;
                        }
                        @if (i.Hor)
                        {
                            temp2 = i.Hor_AD;
                        }
                        <td style="font-family:Verdana; font-size:75%;">    <p> @temp</p>   <p> @temp1</p>   <p> @temp2</p></td>

                        <!----FOR Action Owner-->
                        @if (i.Sales)
                        {
                            temp = i.Hor_AO;
                        }
                        @if (i.Edp)
                        {
                            temp1 = i.Edp_AO;
                        }
                        @if (i.Hor)
                        {
                            temp2 = i.Hor_AO;
                        }
                        <td style="font-family:Verdana; font-size:85%;">    <p> @temp</p>   <p> @temp1</p>   <p> @temp2</p></td>

                        <!----FOR Action Due On-->
                        @if (i.Sales)
                        {
                            t1 = i.Sales_ADO;
                        }
                        @if (i.Edp)
                        {
                            t2 = i.Edp_ADO;
                        }
                        @if (i.Hor)
                        {
                            t3 = i.Hor_ADO;
                        }
                        <td style="font-family:Verdana; font-size:85%;">    <p> @t1</p>   <p> @t2</p>   <p> @t3</p></td>

                        <!----FOR Action Closed On-->
                        @if (i.Sales)
                        {
                            t1 = i.Sales_CO;
                        }
                        @if (i.Edp)
                        {
                            t2 = i.Edp_CO;
                        }
                        @if (i.Hor)
                        {
                            t3 = i.Hor_CO;
                        }
                        <td style="font-family:Verdana; font-size:75%;">    <p> @t1</p>   <p> @t2</p>   <p> @t3</p></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</body>

<script>
    function myFunction() {

        var input, upperC, table, tr, td, i, j, txtValue;
        input = document.getElementById("srchBar");
        upperC = input.value.toUpperCase();
        table = document.getElementById("Table");
        tr = table.getElementsByTagName("tr");

        var td1, td2;
        for (i = 0; i < tr.length; i++) {
            for (j = 0; j < tr.length; j++) {
                td = tr[i].getElementsByTagName("td")[j];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(upperC) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    }
</script>
